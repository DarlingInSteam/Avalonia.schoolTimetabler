using System.Collections.Generic;using System.Collections.ObjectModel;using System.Reactive;using Avalonia.Controls;using Avalonia.Controls.Templates;using Data.FakeDataBase;using Data.Models;using ReactiveUI;namespace SchoolTimetabler.ViewModels;public class TeacherEditingMenuViewModel : ViewModelBase, IRoutableViewModel, IScreen{    private bool _isEnabledContinue = false;    private int _selectedIndex;    public ObservableCollection<Data.Models.SchoolTeachers> Teachers { get; set; }    public ObservableCollection<Data.Models.SchoolDiscipline> Disciplines { get; set; }    public List<string> DisciplinesName { get; set; }        public ReactiveCommand<Unit, Unit> AddNewTeacher { get; }    public ReactiveCommand<Unit, Unit> DeleteTeacher { get; }    public ReactiveCommand<Unit, Unit> AddDescipline { get; }    private int _dataGridSelectedIndex;    private FDataBaseTeachers _storage;    private FDataBaseDisciplines _storageDisciplines;    public TeacherEditingMenuViewModel(CreateSchoolProfileViewModel createSchoolProfileViewModel,        FDataBaseTeachers storage, FDataBaseDisciplines storageDisciplines)    {        _storage = storage;        _storageDisciplines = storageDisciplines;        DisciplinesName = new List<string>();        Teachers = new ObservableCollection<Data.Models.SchoolTeachers>(_storage.SchoolTeachers);        Disciplines = new ObservableCollection<Data.Models.SchoolDiscipline>(_storageDisciplines.SchoolDisciplines);        for (int i = 0; i < Disciplines.Count; i++)        {            DisciplinesName.Add(Disciplines[i].DisciplineName);        }        AddDescipline = ReactiveCommand.Create(() =>        {            _storage.AddDiscipline(DisciplinesName[0], 0);            Teachers[0].TeacherDisciplines = DisciplinesName[0];            return;        });                AddNewTeacher = ReactiveCommand.Create(() =>        {            var schoolTeacher = new Data.Models.SchoolTeachers("Новое ФИО учителя", "fsdf");            _storage.AddTeacher(schoolTeacher);            Teachers.Add(schoolTeacher);            return;        });        DeleteTeacher = ReactiveCommand.Create(() =>        {            _storage.DeleteDiscipline(_dataGridSelectedIndex);            Teachers.Remove(Teachers[_dataGridSelectedIndex]);        });    }    // public void SelectedDisciplineAdd()    // {    //     _storage.AddDiscipline(DisciplinesName[_selectedIndex], _selectedIndex);    // }        public int SelectedIndex    {        get => _selectedIndex;        set => this.RaiseAndSetIfChanged(ref _selectedIndex, value);    }        public bool IsEnabledContinue    {         set => this.RaiseAndSetIfChanged(ref _isEnabledContinue, value);         get => _isEnabledContinue;     }        public int DataGridSelectedIndex    {         set => this.RaiseAndSetIfChanged(ref _dataGridSelectedIndex, value);         get => _dataGridSelectedIndex;     }        public string? UrlPathSegment { get; }    public IScreen HostScreen { get; }    public RoutingState Router { get; }}